---
const stats = [
  { value: '100+', label: 'Propiedades Activas' },
  { value: '98%', label: 'Satisfacción Cliente' },
  { value: '24/7', label: 'Soporte Disponible' },
  { value: 'La Habana', label: 'Zona de Cobertura' },
];
---

<section
  id="stats-section"
  class="bg-primary py-20 px-6 border-y-2 border-sea-glass overflow-hidden"
>
  <div class="max-w-[1440px] mx-auto grid grid-cols-2 md:grid-cols-4 gap-8 text-center">
    {
      stats.map((stat, index) => (
        <div
          class="stat-item opacity-0 translate-y-8"
          style={`transition-delay: ${index * 100}ms;`}
        >
          <div class="relative inline-block group cursor-default">
            <div class="text-5xl font-serif italic font-bold text-sea-glass mb-2 group-hover:scale-110 transition-transform duration-300">
              {stat.value}
            </div>
            <div class="absolute inset-0 bg-sea-glass/20 blur-2xl scale-0 group-hover:scale-150 transition-all duration-500 -z-10 rounded-full" />
          </div>
          <div class="text-sm uppercase tracking-wider text-white/60 group-hover:text-white/90 transition-colors duration-300">
            {stat.label}
          </div>
        </div>
      ))
    }
  </div>
</section>

<style>
  .stat-item {
    transition:
      opacity 0.6s ease-out,
      transform 0.6s ease-out;
  }

  .stat-item.visible {
    opacity: 1;
    transform: translateY(0);
  }
</style>

<script>
  // Intersection Observer para animación al hacer scroll
  const observer = new IntersectionObserver(
    (entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          const items = entry.target.querySelectorAll('.stat-item');
          items.forEach((item) => {
            item.classList.add('visible');
          });
          observer.unobserve(entry.target);
        }
      });
    },
    { threshold: 0.2 }
  );

  const section = document.querySelector('#stats-section');
  if (section) {
    observer.observe(section);
  }
</script>
